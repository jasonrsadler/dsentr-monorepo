# Refer to SECURITY.md for provisioning and rotation requirements before setting live credentials.
PORT=3000
DATABASE_URL=postgres://CHANGEME_DB_USER:CHANGEME_DB_PASSWORD@localhost/CHANGEME_DB_NAME # Managed via vault per SECURITY.md
FRONTEND_ORIGIN=https://localhost:5173
AUTH_COOKIE_SECURE=false # Force true in production to send cookies only over HTTPS
SMTP_USERNAME=CHANGEME_SMTP_USERNAME # Provision via vault per SECURITY.md
SMTP_PASSWORD=CHANGEME_SMTP_PASSWORD # Rotate according to SECURITY.md cadence
SMTP_HOST=localhost
SMTP_FROM=CHANGEME_SMTP_FROM # Configure sender per environment; avoid reusing production identity
SMTP_TLS_DISABLED=true
SMTP_PORT=1025
# App email transport selector: 'smtp' (default) or 'sendgrid'
EMAIL_PROVIDER=smtp
# Generic sender address for API-based providers; falls back to SMTP_FROM if unset
EMAIL_FROM=
# API key for SendGrid when EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=
# Pluggable platform options for Mailjet
MAILJET_API_KEY=xxxx
MAILJET_SECRET_KEY=yyyy
MAILJET_FROM_EMAIL=no-reply@dsentr.com
MAILJET_FROM_NAME=DSentr Automation
API_DEV_URL=https://localhost:3000
API_PROD_URL=https://api.dsentr.com
EMAIL_VERIFICATION_PATH=/verify-email?token=
RESET_PASSWORD_PATH=/reset-password/
JWT_ISSUER=https://localhost:3000
JWT_AUDIENCE=https://localhost:5173
JWT_SECRET=CHANGEME_JWT_SECRET # Generate unique secret per environment through vault tooling
ENV=development
WEBHOOK_SECRET=CHANGEME_WEBHOOK_SIGNING_SECRET # Issue via vault; 32+ random bytes and 8+ unique chars
GOOGLE_CLIENT_ID=CHANGEME_GOOGLE_CLIENT_ID # Create OAuth client per environment
GOOGLE_CLIENT_SECRET=CHANGEME_GOOGLE_CLIENT_SECRET # Store only in managed secret vault
GOOGLE_REDIRECT_URI=https://localhost:3000/api/auth/google-callback
GOOGLE_ACCOUNTS_OAUTH_API_BASE=https://accounts.google.com/o/oauth2/v2/auth
GOOGLE_ACCOUNTS_OAUTH_TOKEN_CLIENT_URL=https://oauth2.googleapis.com/token
GOOGLE_ACCOUNTS_OAUTH_USER_INFO_URL=https://www.googleapis.com/oauth2/v2/userinfo
GITHUB_CLIENT_SECRET=CHANGEME_GITHUB_CLIENT_SECRET # Rotate immediately if committed
GITHUB_CLIENT_ID=CHANGEME_GITHUB_CLIENT_ID # Distinct per environment
GITHUB_REDIRECT_URI=https://localhost:3000/api/auth/github-callback
GITHUB_OAUTH_SCOPE=user:email
GITHUB_OAUTH_TOKEN_URL=https://github.com/login/oauth/access_token
RATE_LIMITER_MILLISECONDS=250
RATE_LIMITER_BURST=12
RATE_LIMITER_AUTH_SECONDS=1
RATE_LIMITER_AUTH_BURST=15
RATE_LIMITER_VERIFY_SECONDS=60
RATE_LIMITER_VERIFY_BURST=2
WORKER_USE_LEASES=true # enable leases/concurrency path
WORKER_LEASE_SECONDS=15 # heartbeat/lease duration
RUN_RETENTION_DAYS=30 # retention purge window
# Egress control
# Global allowlist: unioned with per-workflow allowlist; leave empty to allow any (unless default-deny is on)
ALLOWED_HTTP_DOMAINS=
# Global denylist: always blocks, even if present in a workflow allowlist
DISALLOWED_HTTP_DOMAINS=
# Default-deny toggle: when true, only hosts in union(per-workflow, global) are allowed
EGRESS_DEFAULT_DENY=false
# Secrets masking: comma-separated tokens to redact in outputs/logs
MASK_SECRETS=

TEAMS_OAUTH_TOKEN_BASE_URL=https://login.microsoftonline.com
TEAMS_GRAPH_BASE_URL=https://graph.microsoft.com
TEAMS_WORKFLOW_OAUTH_URL=/v1.0/teams/{teamId}/channels/{channelId}/messages
TEAMS_OAUTH_SCOPE=https://graph.microsoft.com/.default

##### FOR INTEGRATIONS OPTIONS TAB ##########
MICROSOFT_INTEGRATIONS_CLIENT_ID=
MICROSOFT_INTEGRATIONS_CLIENT_SECRET=
MICROSOFT_INTEGRATIONS_REDIRECT_URI=https://localhost:3000/api/oauth/microsoft/callback
GOOGLE_INTEGRATIONS_CLIENT_ID=
GOOGLE_INTEGRATIONS_CLIENT_SECRET=
GOOGLE_INTEGRATIONS_REDIRECT_URI=https://localhost:3000/api/oauth/google/callback
OAUTH_TOKEN_ENCRYPTION_KEY=
OLD_API_SECRETS_ENCRYPTION_KEY=
API_SECRETS_ENCRYPTION_KEY=
SLACK_INTEGRATIONS_CLIENT_ID=
SLACK_INTEGRATIONS_CLIENT_SECRET=
SLACK_INTEGRATIONS_REDIRECT_URI=https://localhost:3000/api/oauth/slack/callback
#################################

#### Plan Pricing
WORKSPACE_PLAN_PRICE=\$29/mo
#################

#### Workspace Quotas
# Workspace membership cap (combined members + pending invites)
WORKSPACE_MEMBER_LIMIT=8
# Monthly run allocation for workspace plans
WORKSPACE_MONTHLY_RUN_LIMIT=20000
#################

#### Stripe Integration
STRIPE_CLIENT_ID=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_WORKSPACE_PRICE_ID=
#################

# Security hardening: when ENV=production, built-in SSRF protections block localhost,
# RFC1918, link-local, and common metadata endpoints.


#.env below replace info

#WORKER_USE_LEASES= # enable leases/concurrency path
#WORKER_LEASE_SECONDS= # heartbeat/lease duration
#RUN_RETENTION_DAYS= # retention purge window
# use false to disable sse and just use rest: WORKER_USE_LEASES=false
# Optional: Allowlisted domains for HTTP action (future use)
# ALLOWED_HTTP_DOMAINS=httpbin.org,api.example.com
#ALLOWED_HTTP_DOMAINS=
# Global denylist: always blocks, even if present in a workflow allowlist
#DISALLOWED_HTTP_DOMAINS=
# Default-deny toggle: when true, only hosts in union(per-workflow, global) are allowed
#EGRESS_DEFAULT_DENY=true
# Secrets masking: comma-separated tokens to redact in outputs/logs
#MASK_SECRETS=
#TEAMS_OAUTH_TOKEN_BASE_URL=
#TEAMS_GRAPH_BASE_URL=
#TEAMS_WORKFLOW_OAUTH_URL=
#TEAMS_OAUTH_SCOPE=

##### FOR INTEGRATIONS OPTIONS TAB ##########
#MICROSOFT_INTEGRATIONS_CLIENT_ID=
#MICROSOFT_INTEGRATIONS_CLIENT_SECRET=
#MICROSOFT_INTEGRATIONS_REDIRECT_URI=
#GOOGLE_INTEGRATIONS_CLIENT_ID=
#GOOGLE_INTEGRATIONS_CLIENT_SECRET=
#GOOGLE_INTEGRATIONS_REDIRECT_URI=
#OAUTH_TOKEN_ENCRYPTION_KEY=
#API_SECRETS_ENCRYPTION_KEY=
#SLACK_INTEGRATIONS_CLIENT_ID=9737696475138.
#SLACK_INTEGRATIONS_CLIENT_SECRET=
#SLACK_INTEGRATIONS_REDIRECT_URI=
#################################

#### Plan Pricing
#WORKSPACE_PLAN_PRICE=\$29/mo
#ORGANIZATION_PLAN_PRICE=\$99/mo
#################

